/*!
 * SweetDropdown: Sweet and versatile timetbldropdowns
 * v1.0.0, 2016-06-02
 * http://github.com/adeptoas/sweet-timetbldropdown
 *
 * Copyright (c) 2016 Adepto.as AS Â· Oslo, Norway
 * Dual licensed under the MIT and GPL licenses.
 *
 * See LICENSE-MIT.txt and LICENSE-GPL.txt
 */
!function($){var showDropdown;return $.fn.sweetDropdown=function(method,data){switch(method){case"attach":return $(this).attr("data-timetbldropdown",data);case"detach":return $(this).removeAttr("data-timetbldropdown");case"show":return $(this).click();case"hide":return $.sweetDropdown.hideAll(),$(this);case"enable":return $(this).removeClass("timetbldropdown-disabled");case"disable":return $(this).addClass("timetbldropdown-disabled")}},$.sweetDropdown=function(){},$.sweetDropdown.attachAll=function(){return $("body").off("click.timetbldropdown").on("click.timetbldropdown","[data-timetbldropdown]",showDropdown),$("[data-timetbldropdown]").off("click.timetbldropdown").on("click.timetbldropdown",showDropdown),$("html, .sweet-modal-content").off("click.timetbldropdown").on("click.timetbldropdown",$.sweetDropdown.hideAll),$(window).off("resize.timetbldropdown").on("resize.timetbldropdown",$.sweetDropdown.hideAll),!0},$.sweetDropdown.hideAll=function(e,hideException){var animTimeout,el,hideExceptionID,targetGroup,trigger;return null==e&&(e=null),null==hideException&&(hideException=null),targetGroup=e?$(e.target).parents().addBack():null,targetGroup&&targetGroup.hasClass("timetbldropdown-menu")&&!targetGroup.is("A")?void 0:(el=".timetbldropdown-menu",trigger="[data-timetbldropdown]",hideExceptionID="",hideException&&(hideExceptionID=$(hideException).attr("id"),$('[data-timetbldropdown="#'+hideExceptionID+'"]').hasClass("timetbldropdown-open")||(el=".timetbldropdown-menu:not(#"+hideExceptionID+")",trigger='[data-timetbldropdown!="#'+hideExceptionID+'"]')),$("body").find(el).removeClass("timetbldropdown-opened").end().find(trigger).removeClass("timetbldropdown-open"),animTimeout=window.setTimeout(function(){return $("body").find(el).hide().end()},200),!0)},$.sweetDropdown.ANCHOR_POSITIONS=["top-left","top-center","top-right","right-top","right-center","right-bottom","bottom-left","bottom-center","bottom-right","left-top","left-center","left-bottom"],$.sweetDropdown.defaults={anchorPosition:"center"},showDropdown=function(e){var $anchor,$timetbldropdown,$trigger,addAnchorX,addAnchorY,addX,addY,anchorPosition,anchorSide,bottomTrigger,hasAnchor,heightDropdown,heightTrigger,i,isDisabled,isOpen,left,leftTrigger,len,position,positionParts,ref,rightTrigger,top,topTrigger,widthDropdown,widthTrigger;if(null==e&&(e=null),$trigger=$(this),$timetbldropdown=$($trigger.data("timetbldropdown")),$anchor=$timetbldropdown.find(".timetbldropdown-anchor"),hasAnchor=$timetbldropdown.hasClass("timetbldropdown-has-anchor"),isOpen=$trigger.hasClass("timetbldropdown-open"),isDisabled=$trigger.hasClass("timetbldropdown-disabled"),widthDropdown=$timetbldropdown.outerWidth(),widthTrigger=$trigger.outerWidth(),heightDropdown=$timetbldropdown.outerHeight(),heightTrigger=$trigger.outerHeight(),topTrigger=$trigger.position().top,leftTrigger=$trigger.position().left,$trigger.hasClass("timetbldropdown-use-offset")&&(topTrigger=$trigger.offset().top,leftTrigger=$trigger.offset().left),bottomTrigger=topTrigger+heightTrigger,rightTrigger=leftTrigger+widthTrigger,$timetbldropdown.length<1)return console.error("[SweetDropdown] Could not find timetbldropdown: "+$(this).data("timetbldropdown"));if($anchor.length<1&&hasAnchor&&($anchor=$('<div class="timetbldropdown-anchor"></div>'),$timetbldropdown.prepend($anchor)),void 0!==e&&(e.preventDefault(),e.stopPropagation()),isOpen||isDisabled)return!1;for($.sweetDropdown.hideAll(null,$trigger.data("timetbldropdown")),anchorPosition=$.sweetDropdown.defaults.anchorPosition,ref=$.sweetDropdown.ANCHOR_POSITIONS,i=0,len=ref.length;len>i;i++)position=ref[i],$timetbldropdown.hasClass("timetbldropdown-anchor-"+position)&&(anchorPosition=position);if(top=0,left=0,positionParts=anchorPosition.split("-"),anchorSide=positionParts[0],anchorPosition=positionParts[1],"top"===anchorSide||"bottom"===anchorSide)switch(anchorPosition){case"left":left=leftTrigger;break;case"center":left=leftTrigger-widthDropdown/2+widthTrigger/2;break;case"right":left=rightTrigger-widthDropdown}if("left"===anchorSide||"right"===anchorSide)switch(anchorPosition){case"top":top=topTrigger;break;case"center":top=topTrigger-heightDropdown/2+heightTrigger/2;break;case"bottom":top=topTrigger+heightTrigger-heightDropdown}switch(anchorSide){case"top":top=topTrigger+heightTrigger;break;case"right":left=leftTrigger-widthDropdown;break;case"bottom":top=topTrigger-heightDropdown;break;case"left":left=leftTrigger+widthTrigger}return addX=parseInt($timetbldropdown.data("add-x")),addY=parseInt($timetbldropdown.data("add-y")),isNaN(addX)||(left+=addX),isNaN(addY)||(top+=addY),addAnchorX=parseInt($trigger.data("add-anchor-x")),addAnchorY=parseInt($trigger.data("add-anchor-y")),isNaN(addAnchorX)||$anchor.css({marginLeft:addAnchorX}),isNaN(addAnchorY)||$anchor.css({marginTop:addAnchorY}),$timetbldropdown.css({top:top,left:left,display:"block"}),window.setTimeout(function(){return $timetbldropdown.addClass("timetbldropdown-opened")},0),$trigger.addClass("timetbldropdown-open"),$trigger},$(function(){return $.sweetDropdown.attachAll()})}(jQuery);
